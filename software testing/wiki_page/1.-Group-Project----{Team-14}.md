# Test Plan
### Test Strategy

#### Unit Testing
We noticed certain methods under /model and /service directories are trivial that we isolate core functions that need to be tested thoroughly. We'll run SonarQube and Infer on the application to study the source code. As for the trivial functions, we will write one failure path and one success path. As for the non trivial functions, we'll set the coverage goa, derive a control flow graph, and apply a path sensitization. We'll write a test case for each path and use a code coverage tool, JaCoCo to verify our tests have indeed reached all the paths.   


#### Integration Testing
We will be testing 1. the dependency between the different entities in the model layer 2. the interaction between the entities and the repositories in the persistence layer. To test the dependencies between different entities, we will be applying the top-down approach using Mockito to create stubs. 

#### API Testing
It was decided that API testing would focus on using very diverse inputs and try to find an input that would cause unexpected behavior. If possible, every test will be done using only MockMvc as technological tool, as it gives a better representation of the real application.

#### Acceptance Testing
We will map scenario graphs with a main, alternative and error flow and use Gherkin scenarios to represent the flow of the scenario graphs. We will then test the Gherkin scenarios we wrote as feature files by writing additional step definitions that can be compiled with JUnit.

#### Non-Functional (Performance) Testing
We will evaluate the performance and health of the PetClinic REST API service by measuring the runtime of certain API calls while simultaneously tracking CPU usage and available free memory. We plan on gathering performance data by executing automated load tests of API calls. For runtime measurements, we will perform load tests with the help of [Zerocode](https://github.com/authorjapps/zerocode), an open-source library that allows for automated API load tests. For CPU and available free memory assessments, we will perform load tests with the help of [Apache JMeter](https://jmeter.apache.org/), an open-source application that contains a plugin for Windows Perfmon and is designed to load test APIs and measure performance metrics. Gathered data will then be converted into charts and further analyzed in the non-functional testing report.

### Coverage Goals

#### Unit Testing
For unit testing, we will be aiming to cover all the components in /model and /service directories. As for the trivial functions, a condition/decision coverage will be applied. We expect to cover all the instructions and branches without a path sensitization. As for the non trivial functions, we intend to apply a path coverage. Our goal is to write tests that reach every branch with the help of a path sensitization. We record infeasible paths and analyze the causes of the failures. 

#### Integration Testing
For integration testing, we will be aiming to cover the components in the model and persistence layers. More specifically, we will be testing how the entities in the model layer interact with each other as well as how they interact with the repositories in the persistence layer. 

#### API Testing
It was decided that API testing would focus on achieving a high coverage (as high as possible) rather than on using the typical black-box approach that is often used for API testing. More details to justify this choice are given in the API Testing section.

#### Acceptance Testing 
For acceptance testing, we will be aiming to cover all the various paths generated by the scenario graphs we developed. For each scenario generated from the graphs, we will not be ranking them since we are aiming for 100% scenario coverage.  Although some scenarios may be similar on the backend/controller end  ( i.e. empty for first name and empty field for last name), we will developing a test case for both as the expected output on the front-end is different ( the error message might be placed differently on the HTML page). Covering all scenarios, whether similar or not, will allow us to know to what extent the systems can support its required functional requirements. We believe that these goals are achievable because  using we only have three features to test all cases and because we will be using Maven dependencies like JSoup to parse through the HTML documents. 

#### Non-Functional (Performance) Testing
For non-functional testing, we will be aiming to cover the following REST API scenarios:

1. As the number of Owners increases, {add | modify} one Owner.
1. As the number of Pets increases, {add | modify} one Pet.

In order to provide a rigorous and thorough evaluation of the PetClinic API's performance, our goal is to gather a total of 200 data points per performance chart. We believe that this is quite feasible with the help of open-source libraries and tools such as Zerocode and Apache JMeter, which allow for automated load testing.

### Roles and Responsibilities 
| Tasks                                 	| Assignee  	   |
|---------------------------------------	|-----------	   |
| Test Plan                             	| ALL       	   |
| Unit Testing                          	| Younggue         |
| Integration Testing                   	| Ryan             |
| API testing                           	| Maxens           |
| Acceptance Testing                    	| Catherine & Ping |
| Non-Functional (Performance) Testing  	| Kailong & Ping   |
| Test Automation                       	| Maxens & Younggue|
| Application of Testing Techniques     	|    Ryan          |
| Frontend Testing    	                        |    Ryan          |
# Unit Testing 
[Unit Testing Report](https://github.com/McGill-ECSE429-Fall2021/project-test-14/wiki/2.-Unit-Component-Testing)
# Integration Testing 
[Integration Testing Report](https://github.com/McGill-ECSE429-Fall2021/project-test-14/wiki/3.-Integration-Testing)
# API Testing 
[API Testing Report](https://github.com/McGill-ECSE429-Fall2021/project-test-14/wiki/4.-API-Testing)
# Acceptance Testing 
[Acceptance Testing Report](https://github.com/McGill-ECSE429-Fall2021/project-test-14/wiki/5.-Acceptance-Testing)
# Non-Functional (Performance) Testing
[Non-Functional (Performance) Report](https://github.com/McGill-ECSE429-Fall2021/project-test-14/wiki/6.-Non-Functional-Testing)
# Test Automation
[Test Automation Report](https://github.com/McGill-ECSE429-Fall2021/project-test-14/wiki/7.-Test-Automation-Testing)
# Application of Testing Techniques 
[Application of Testing Techniques Report](https://github.com/McGill-ECSE429-Fall2021/project-test-14/wiki/8.-Application-of-Testing-Techniques)

# Frontend Testing
[Frontend Testing Report](https://github.com/McGill-ECSE429-Fall2021/project-test-14/wiki/Frontend-Testing)
